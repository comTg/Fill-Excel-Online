{% load static %}
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>跳转结果</title>
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

    {#    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">#}
    <link rel="stylesheet" href="{% static 'css/table.css' %}">


</head>

<body>

<div class="container">
    <div class="main-content fork">
        <h4 class="text-info text-center">{{ result_info }},自动跳转<span id="sp" class="label label-info"></span></h4>
        <a href="./table/{{ table_id }}" class="btn btn-info">返回</a>
    </div>
</div>


{#<script src={% static 'js/jquery.min.js' %}></script>#}
{#<script src={% static 'js/bootstrap.js' %}></script>#}
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script>
    var x = 5; //利用了全局变量来执行
    function go() {
        x--;
        if (x > 0) {
            $('#sp').html(x);  //每次设置的x的值都不一样了。
        } else {
            location.href = '/table/{{ table_id }}';
        }
    }
    $(function () {
        $('#sp').html(x);
        setInterval(go, 1000);
    });
</script>
</body>

</html>